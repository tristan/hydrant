{% if workflow %}
<!--<div style="display: table; border: 1px solid; width: 100%;">-->
    <div style="display: table-cell; vertical-align: top;">
        <div class="canvas" id="mainCanvas" style="width: {{ workflow.canvas.x }}px; height: {{ workflow.canvas.y }}px; border: 1px solid black;">
            {% if workflow.director %}
            {% with workflow.director as director %}
            <div class="director draggable" style="left: {{ director.location.x }}px; top: {{ director.location.y }}px">
                <div>{{ director.name }}</div>
                <img id="{{ director.name }}" class="block" src="/media/images/director.png"
                onDblClick="update_properties('{{ director.name }}'); set_visibility(1, 'properties-div');"/>
            </div>
            {% endwith %}
            {% endif %}

            {% for actor in workflow.actors %}
            {% include "kepler/actor_div.html" %}
            {% endfor %}

            {% for port in workflow.ports %}
            <div class="port draggable" style="left: {{ port.location.x }}px; top: {{ port.location.y }}px">
                <div style="overflow: auto">{{ port.name }}</div>
                <img class="block" id="{{ port.id }}" src="/media/images/in-port.png"/>
            </div>
            {% endfor %}

            {% for vertex in workflow.vertices %}
            <div class="vertex draggable" style="left: {{ vertex.location.x }}px; top: {{ vertex.location.y }}px">
                <img class="block" id="{{ vertex.name }}" src="/media/images/vertex.png"/>
            </div>
            {% endfor %}

            {% for link in workflow.links %}
            <div class="connector {{ link.0 }} {{ link.1 }}"></div>
            {% endfor %}

            {% for annotation in workflow.annotations %}
            <div class="annotation draggable"
                style="     left: {{ annotation.location.x }}px;
                            top: {{ annotation.location.y }}px;
                            color: #{{ annotation.text_color }};
                            font-family: {{ annotation.font_family }};
                            font-size: {{ annotation.text_size }}pt;
                            {% ifequal annotation.bold 'true' %}font-weight: bold;{% endifequal %}
                            {% ifequal annotation.italic 'true' %}font-style: italic;{% endifequal %}
                ">
                {{ annotation.text|linebreaks }}
            </div>
            {% endfor %}
            <div id="properties-div" class="properties">
            </div>
            <script type="text/javascript">
                set_properties_to_loading();
                {% if open_actor_properties %}
                set_visibility(1, 'properties-div');
                update_properties('{{ open_actor_properties }}');
                {% endif %}
            </script>
        </div>
    </div>
    <!--</div>-->
{% endif %}
